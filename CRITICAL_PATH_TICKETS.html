<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>CRITICAL PATH IMPLEMENTATION TICKETS • hatsa</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="CRITICAL PATH IMPLEMENTATION TICKETS"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">hatsa</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/core-hatsa-toy-example.html">Core HATSA with a Toy-Connectome</a></li>
    <li><a class="dropdown-item" href="articles/getting-started.html">Getting Started with HATSA</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bbuchsbaum/hatsa/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>CRITICAL PATH IMPLEMENTATION TICKETS</h1>
      <small class="dont-index">Source: <a href="https://github.com/bbuchsbaum/hatsa/blob/main/CRITICAL_PATH_TICKETS.md" class="external-link"><code>CRITICAL_PATH_TICKETS.md</code></a></small>
    </div>

<div id="critical-path-implementation-tickets" class="section level1">

<p><strong>Priority: URGENT</strong> - These 5 functions must be implemented before any other HATSA functionality can work.</p>
<hr><div class="section level2">
<h2 id="ticket-cp-001-compute_subject_connectivity_graph_sparse"><strong>TICKET CP-001: <code>compute_subject_connectivity_graph_sparse()</code></strong><a class="anchor" aria-label="anchor" href="#ticket-cp-001-compute_subject_connectivity_graph_sparse"></a></h2>
<p><strong>File</strong>: <code>R/spectral_graph_construction.R</code><br><strong>Status</strong>: ❌ Function signature exists, no implementation<br><strong>Estimated Time</strong>: 1-2 days</p>
<div class="section level3">
<h3 id="function-signature"><strong>Function Signature</strong><a class="anchor" aria-label="anchor" href="#function-signature"></a></h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>compute_subject_connectivity_graph_sparse <span class="ot">&lt;-</span> <span class="cf">function</span>(X_subject, parcel_names, k_conn_pos, k_conn_neg, <span class="at">use_dtw =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="purpose"><strong>Purpose</strong><a class="anchor" aria-label="anchor" href="#purpose"></a></h3>
<p>Build sparse correlation graphs from subject time series data. This is the foundational function that creates the connectivity matrices used throughout HATSA.</p>
</div>
<div class="section level3">
<h3 id="input"><strong>Input</strong><a class="anchor" aria-label="anchor" href="#input"></a></h3>
<ul><li>
<code>X_subject</code>: Numeric matrix (T x V_p) - time series for one subject</li>
<li>
<code>parcel_names</code>: Character vector of length V_p - parcel identifiers<br></li>
<li>
<code>k_conn_pos</code>: Integer - number of strongest positive connections to retain per parcel</li>
<li>
<code>k_conn_neg</code>: Integer - number of strongest negative connections to retain per parcel</li>
<li>
<code>use_dtw</code>: Logical - whether to use Dynamic Time Warping (not implemented yet)</li>
</ul></div>
<div class="section level3">
<h3 id="expected-output"><strong>Expected Output</strong><a class="anchor" aria-label="anchor" href="#expected-output"></a></h3>
<p>Sparse symmetric matrix (dgCMatrix, V_p x V_p) with: - Sparsified correlation values - Z-scored edge weights (non-zero elements) - Symmetric structure - Zero diagonal</p>
</div>
<div class="section level3">
<h3 id="algorithm"><strong>Algorithm</strong><a class="anchor" aria-label="anchor" href="#algorithm"></a></h3>
<ol style="list-style-type: decimal"><li>Compute full correlation matrix: <code>cor(X_subject)</code> (V_p x V_p)</li>
<li>Set diagonal to 0</li>
<li>Apply k-NN sparsification separately for positive and negative correlations</li>
<li>Symmetrize: <code>(W + t(W)) / 2</code>
</li>
<li>Z-score non-zero edge weights using existing <code><a href="reference/zscore_nonzero_sparse.html">zscore_nonzero_sparse()</a></code> function</li>
<li>Return as sparse dgCMatrix</li>
</ol></div>
<div class="section level3">
<h3 id="dependencies"><strong>Dependencies</strong><a class="anchor" aria-label="anchor" href="#dependencies"></a></h3>
<ul><li>
<code>Matrix</code> package (already imported)</li>
<li>
<code><a href="reference/zscore_nonzero_sparse.html">zscore_nonzero_sparse()</a></code> function (already implemented)</li>
</ul></div>
<div class="section level3">
<h3 id="tests-ready"><strong>Tests Ready</strong><a class="anchor" aria-label="anchor" href="#tests-ready"></a></h3>
<p>✅ <code>tests/testthat/test-spectral_graph_construction.R</code> lines 15-200</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="ticket-cp-002-compute_graph_laplacian_sparse"><strong>TICKET CP-002: <code>compute_graph_laplacian_sparse()</code></strong><a class="anchor" aria-label="anchor" href="#ticket-cp-002-compute_graph_laplacian_sparse"></a></h2>
<p><strong>File</strong>: <code>R/spectral_graph_construction.R</code><br><strong>Status</strong>: ❌ Function signature exists, no implementation<br><strong>Estimated Time</strong>: 1 day</p>
<div class="section level3">
<h3 id="function-signature-1"><strong>Function Signature</strong><a class="anchor" aria-label="anchor" href="#function-signature-1"></a></h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>compute_graph_laplacian_sparse <span class="ot">&lt;-</span> <span class="cf">function</span>(W_sparse, <span class="at">alpha =</span> <span class="fl">0.93</span>, <span class="at">degree_type =</span> <span class="st">"abs"</span>)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="purpose-1"><strong>Purpose</strong><a class="anchor" aria-label="anchor" href="#purpose-1"></a></h3>
<p>Compute alpha-lazy random-walk normalized Laplacian from sparse adjacency matrix.</p>
</div>
<div class="section level3">
<h3 id="input-1"><strong>Input</strong><a class="anchor" aria-label="anchor" href="#input-1"></a></h3>
<ul><li>
<code>W_sparse</code>: Sparse symmetric matrix (dgCMatrix) - adjacency/weight matrix</li>
<li>
<code>alpha</code>: Numeric in [0,1] - laziness parameter (default 0.93)</li>
<li>
<code>degree_type</code>: Character - how to compute degrees (“abs”, “positive”, “signed”)</li>
</ul></div>
<div class="section level3">
<h3 id="mathematical-formula"><strong>Mathematical Formula</strong><a class="anchor" aria-label="anchor" href="#mathematical-formula"></a></h3>
<pre><code>L = I - alpha * D^(-1) * W
where D is degree matrix based on degree_type</code></pre>
</div>
<div class="section level3">
<h3 id="expected-output-1"><strong>Expected Output</strong><a class="anchor" aria-label="anchor" href="#expected-output-1"></a></h3>
<p>Sparse symmetric matrix (dgCMatrix, V_p x V_p): - Alpha-lazy random-walk normalized Laplacian - Symmetric: <code>(L + t(L))/2</code> - Proper handling of zero-degree nodes</p>
</div>
<div class="section level3">
<h3 id="algorithm-1"><strong>Algorithm</strong><a class="anchor" aria-label="anchor" href="#algorithm-1"></a></h3>
<ol style="list-style-type: decimal"><li>Compute degree vector based on <code>degree_type</code>:
<ul><li>“abs”: <code>rowSums(abs(W_sparse))</code>
</li>
<li>“positive”: <code>rowSums(pmax(W_sparse, 0))</code>
</li>
<li>“signed”: <code>rowSums(W_sparse)</code>
</li>
</ul></li>
<li>Handle zero degrees: set to small epsilon or special case</li>
<li>Create degree matrix: <code>D_inv = Diagonal(x = 1/degrees)</code>
</li>
<li>Compute: <code>L_rw = I - alpha * D_inv %*% W_sparse</code>
</li>
<li>Symmetrize: <code>L = (L_rw + t(L_rw)) / 2</code>
</li>
<li>Return as sparse dgCMatrix</li>
</ol></div>
<div class="section level3">
<h3 id="dependencies-1"><strong>Dependencies</strong><a class="anchor" aria-label="anchor" href="#dependencies-1"></a></h3>
<ul><li>
<code>Matrix</code> package (already imported)</li>
</ul></div>
<div class="section level3">
<h3 id="tests-ready-1"><strong>Tests Ready</strong><a class="anchor" aria-label="anchor" href="#tests-ready-1"></a></h3>
<p>✅ <code>tests/testthat/test-spectral_graph_construction.R</code> lines 295-380</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="ticket-cp-003-compute_spectral_sketch_sparse"><strong>TICKET CP-003: <code>compute_spectral_sketch_sparse()</code></strong><a class="anchor" aria-label="anchor" href="#ticket-cp-003-compute_spectral_sketch_sparse"></a></h2>
<p><strong>File</strong>: <code>R/spectral_graph_construction.R</code><br><strong>Status</strong>: ❌ Function signature exists, no implementation<br><strong>Estimated Time</strong>: 1-2 days</p>
<div class="section level3">
<h3 id="function-signature-2"><strong>Function Signature</strong><a class="anchor" aria-label="anchor" href="#function-signature-2"></a></h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>compute_spectral_sketch_sparse <span class="ot">&lt;-</span> <span class="cf">function</span>(L_sparse, k, <span class="at">eigenvalue_tol =</span> <span class="fl">1e-8</span>)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="purpose-2"><strong>Purpose</strong><a class="anchor" aria-label="anchor" href="#purpose-2"></a></h3>
<p>Compute sparse eigendecomposition with DC component filtering for HATSA spectral sketches.</p>
</div>
<div class="section level3">
<h3 id="input-2"><strong>Input</strong><a class="anchor" aria-label="anchor" href="#input-2"></a></h3>
<ul><li>
<code>L_sparse</code>: Sparse symmetric matrix (dgCMatrix) - Laplacian matrix</li>
<li>
<code>k</code>: Integer - number of eigenvectors to return</li>
<li>
<code>eigenvalue_tol</code>: Numeric - threshold for filtering trivial eigenvectors</li>
</ul></div>
<div class="section level3">
<h3 id="expected-output-2"><strong>Expected Output</strong><a class="anchor" aria-label="anchor" href="#expected-output-2"></a></h3>
<p>List with two elements: - <code>vectors</code>: Numeric matrix (V_p x k) - eigenvectors<br>
- <code>values</code>: Numeric vector (length k) - eigenvalues</p>
</div>
<div class="section level3">
<h3 id="algorithm-2"><strong>Algorithm</strong><a class="anchor" aria-label="anchor" href="#algorithm-2"></a></h3>
<ol style="list-style-type: decimal"><li>Determine how many eigenvectors to request (need k + buffer for filtering)</li>
<li>Use <code><a href="https://rdrr.io/pkg/RSpectra/man/eigs.html" class="external-link">RSpectra::eigs_sym()</a></code> to compute smallest eigenvalues/vectors</li>
<li>Filter out trivial eigenvectors where <code>eigenvalue &lt; eigenvalue_tol</code>
</li>
<li>Take first <code>k</code> non-trivial eigenvectors</li>
<li>Return as list with <code>vectors</code> and <code>values</code>
</li>
</ol></div>
<div class="section level3">
<h3 id="edge-cases"><strong>Edge Cases</strong><a class="anchor" aria-label="anchor" href="#edge-cases"></a></h3>
<ul><li>Handle <code>k = 0</code>: return empty matrices</li>
<li>Handle insufficient non-trivial eigenvectors: throw informative error</li>
<li>Handle numerical issues in eigendecomposition</li>
</ul></div>
<div class="section level3">
<h3 id="dependencies-2"><strong>Dependencies</strong><a class="anchor" aria-label="anchor" href="#dependencies-2"></a></h3>
<ul><li>
<code>RSpectra</code> package (already imported)</li>
</ul></div>
<div class="section level3">
<h3 id="tests-ready-2"><strong>Tests Ready</strong><a class="anchor" aria-label="anchor" href="#tests-ready-2"></a></h3>
<p>✅ <code>tests/testthat/test-spectral_graph_construction.R</code> lines 400-590</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="ticket-cp-004-misalign_deg"><strong>TICKET CP-004: <code>misalign_deg()</code></strong><a class="anchor" aria-label="anchor" href="#ticket-cp-004-misalign_deg"></a></h2>
<p><strong>File</strong>: <code>R/metrics.R</code><br><strong>Status</strong>: ❌ Exported in NAMESPACE but no implementation<br><strong>Estimated Time</strong>: 0.5 days</p>
<div class="section level3">
<h3 id="function-signature-3"><strong>Function Signature</strong><a class="anchor" aria-label="anchor" href="#function-signature-3"></a></h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>misalign_deg <span class="ot">&lt;-</span> <span class="cf">function</span>(R1, R2, <span class="at">method =</span> <span class="st">"geodesic"</span>)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="purpose-3"><strong>Purpose</strong><a class="anchor" aria-label="anchor" href="#purpose-3"></a></h3>
<p>Compute geodesic distance between two rotation matrices on SO(k) manifold, returned in degrees.</p>
</div>
<div class="section level3">
<h3 id="input-3"><strong>Input</strong><a class="anchor" aria-label="anchor" href="#input-3"></a></h3>
<ul><li>
<code>R1</code>, <code>R2</code>: Numeric matrices (k x k) - rotation matrices in SO(k)</li>
<li>
<code>method</code>: Character - distance computation method (“geodesic”)</li>
</ul></div>
<div class="section level3">
<h3 id="mathematical-formula-1"><strong>Mathematical Formula</strong><a class="anchor" aria-label="anchor" href="#mathematical-formula-1"></a></h3>
<pre><code><span><span class="va">d</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">acos</a></span><span class="op">(</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/trace.html" class="external-link">trace</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">R1</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">R2</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span> <span class="op">*</span> <span class="fl">180</span><span class="op">/</span><span class="va">π</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="expected-output-3"><strong>Expected Output</strong><a class="anchor" aria-label="anchor" href="#expected-output-3"></a></h3>
<p>Numeric scalar - geodesic distance in degrees [0, 180]</p>
</div>
<div class="section level3">
<h3 id="algorithm-3"><strong>Algorithm</strong><a class="anchor" aria-label="anchor" href="#algorithm-3"></a></h3>
<ol style="list-style-type: decimal"><li>Validate inputs are square matrices of same dimension</li>
<li>Compute trace: <code>tr = sum(diag(t(R1) %*% R2))</code>
</li>
<li>Handle numerical edge cases:
<ul><li>If <code>tr &gt; k + 1</code>: clamp to <code>k + 1</code>
</li>
<li>If <code>tr &lt; k - 1</code>: clamp to <code>k - 1</code>
</li>
</ul></li>
<li>Compute: <code>d_rad = acos((tr - 1) / 2)</code>
</li>
<li>Convert to degrees: <code>d_deg = d_rad * 180 / pi</code>
</li>
<li>Return scalar value</li>
</ol></div>
<div class="section level3">
<h3 id="error-handling"><strong>Error Handling</strong><a class="anchor" aria-label="anchor" href="#error-handling"></a></h3>
<ul><li>Check matrix dimensions match</li>
<li>Handle numerical issues in <code><a href="https://rdrr.io/r/base/Trig.html" class="external-link">acos()</a></code>
</li>
<li>Validate rotation matrix properties (optional)</li>
</ul></div>
<div class="section level3">
<h3 id="dependencies-3"><strong>Dependencies</strong><a class="anchor" aria-label="anchor" href="#dependencies-3"></a></h3>
<ul><li>Base R only</li>
</ul></div>
<div class="section level3">
<h3 id="tests-ready-3"><strong>Tests Ready</strong><a class="anchor" aria-label="anchor" href="#tests-ready-3"></a></h3>
<p>✅ <code>tests/testthat/test-metrics.R</code> lines 1-150</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="ticket-cp-005-solve_gev_laplacian_primme"><strong>TICKET CP-005: <code>solve_gev_laplacian_primme()</code></strong><a class="anchor" aria-label="anchor" href="#ticket-cp-005-solve_gev_laplacian_primme"></a></h2>
<p><strong>File</strong>: <code>R/gev_helpers.R</code><br><strong>Status</strong>: ❌ Exported in NAMESPACE but no implementation<br><strong>Estimated Time</strong>: 1 day</p>
<div class="section level3">
<h3 id="function-signature-4"><strong>Function Signature</strong><a class="anchor" aria-label="anchor" href="#function-signature-4"></a></h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>solve_gev_laplacian_primme <span class="ot">&lt;-</span> <span class="cf">function</span>(A, B, k_request, <span class="at">lambda_max_thresh =</span> <span class="fl">0.8</span>, <span class="at">epsilon_reg_B =</span> <span class="fl">1e-6</span>, <span class="at">tol =</span> <span class="fl">1e-8</span>)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="purpose-4"><strong>Purpose</strong><a class="anchor" aria-label="anchor" href="#purpose-4"></a></h3>
<p>Solve generalized eigenvalue problem A<em>v = λ</em>B*v for task HATSA GEV patches.</p>
</div>
<div class="section level3">
<h3 id="input-4"><strong>Input</strong><a class="anchor" aria-label="anchor" href="#input-4"></a></h3>
<ul><li>
<code>A</code>: Sparse symmetric matrix (dgCMatrix) - typically task Laplacian</li>
<li>
<code>B</code>: Sparse symmetric matrix (dgCMatrix) - typically connectivity Laplacian<br></li>
<li>
<code>k_request</code>: Integer - number of eigenpairs to compute</li>
<li>
<code>lambda_max_thresh</code>: Numeric - maximum eigenvalue to retain</li>
<li>
<code>epsilon_reg_B</code>: Numeric - regularization for B matrix</li>
<li>
<code>tol</code>: Numeric - convergence tolerance</li>
</ul></div>
<div class="section level3">
<h3 id="expected-output-4"><strong>Expected Output</strong><a class="anchor" aria-label="anchor" href="#expected-output-4"></a></h3>
<p>List with: - <code>vectors</code>: Numeric matrix (V_p x k_filtered) - filtered eigenvectors - <code>values</code>: Numeric vector (length k_filtered) - filtered eigenvalues<br>
- <code>n_converged</code>: Integer - number of eigenvalues that converged - <code>n_filtered</code>: Integer - number retained after filtering</p>
</div>
<div class="section level3">
<h3 id="algorithm-4"><strong>Algorithm</strong><a class="anchor" aria-label="anchor" href="#algorithm-4"></a></h3>
<ol style="list-style-type: decimal"><li>Regularize B matrix: <code>B_reg = B + epsilon_reg_B * I</code>
</li>
<li>Use <code>PRIMME::eigs_sym(A = A, B = B_reg, NEig = k_request, which = "SM")</code>
</li>
<li>Filter results: keep only eigenvalues with <code>abs(lambda) &lt; lambda_max_thresh</code>
</li>
<li>Return list with filtered vectors, values, and diagnostic counts</li>
</ol></div>
<div class="section level3">
<h3 id="error-handling-1"><strong>Error Handling</strong><a class="anchor" aria-label="anchor" href="#error-handling-1"></a></h3>
<ul><li>Check matrix dimensions match</li>
<li>Handle convergence failures</li>
<li>Validate eigenvalue filtering results</li>
</ul></div>
<div class="section level3">
<h3 id="dependencies-4"><strong>Dependencies</strong><a class="anchor" aria-label="anchor" href="#dependencies-4"></a></h3>
<ul><li>
<code>PRIMME</code> package (already imported)</li>
<li>
<code>Matrix</code> package (already imported)</li>
</ul></div>
<div class="section level3">
<h3 id="tests-ready-4"><strong>Tests Ready</strong><a class="anchor" aria-label="anchor" href="#tests-ready-4"></a></h3>
<p>✅ <code>tests/testthat/test-gev.R</code> lines 30-100</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="id_-implementation-order"><strong>🚀 IMPLEMENTATION ORDER</strong><a class="anchor" aria-label="anchor" href="#id_-implementation-order"></a></h2>
<div class="section level3">
<h3 id="day-1-2-foundation">
<strong>Day 1-2</strong>: Foundation<a class="anchor" aria-label="anchor" href="#day-1-2-foundation"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>CP-001</strong> (connectivity graphs) - Most critical, everything depends on this</li>
<li>
<strong>CP-002</strong> (Laplacian) - Direct dependency of spectral sketches</li>
</ol></div>
<div class="section level3">
<h3 id="day-3-4-core-analysis">
<strong>Day 3-4</strong>: Core Analysis<a class="anchor" aria-label="anchor" href="#day-3-4-core-analysis"></a></h3>
<ol start="3" style="list-style-type: decimal"><li>
<strong>CP-003</strong> (spectral sketches) - Core eigendecomposition functionality</li>
<li>
<strong>CP-004</strong> (misalign_deg) - Needed for validation metrics</li>
</ol></div>
<div class="section level3">
<h3 id="day-5-advanced-features">
<strong>Day 5</strong>: Advanced Features<a class="anchor" aria-label="anchor" href="#day-5-advanced-features"></a></h3>
<ol start="5" style="list-style-type: decimal"><li>
<strong>CP-005</strong> (GEV solver) - Enables task HATSA GEV patches</li>
</ol><hr></div>
</div>
<div class="section level2">
<h2 id="id_-validation-workflow"><strong>✅ VALIDATION WORKFLOW</strong><a class="anchor" aria-label="anchor" href="#id_-validation-workflow"></a></h2>
<p>After implementing each function:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Test specific function</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="ex">R</span> <span class="at">-e</span> <span class="st">"devtools::test_file('tests/testthat/test-spectral_graph_construction.R')"</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="co"># Test integration  </span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="ex">R</span> <span class="at">-e</span> <span class="st">"devtools::test_file('tests/testthat/test-hatsa_core_functionality.R')"</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="co"># Full test suite (after all 5 implemented)</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="ex">R</span> <span class="at">-e</span> <span class="st">"devtools::test()"</span></span></code></pre></div>
<p><strong>Success Criteria</strong>: - All function-specific tests pass - <code><a href="reference/run_hatsa_core.html">run_hatsa_core()</a></code> executes without errors - Integration tests pass - Task HATSA and voxel projection work end-to-end</p>
<hr><p><strong>🎯 Start with CP-001 and work through the list sequentially. Each function builds on the previous ones.</strong></p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brad Buchsbaum.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

