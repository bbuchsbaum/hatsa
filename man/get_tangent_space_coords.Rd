% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/riemannian_methods_hatsa.R
\name{get_tangent_space_coords}
\alias{get_tangent_space_coords}
\alias{get_tangent_space_coords.hatsa_projector}
\title{Project Subject SPD Representations to a Common Tangent Space}
\usage{
get_tangent_space_coords(object, ...)

\method{get_tangent_space_coords}{hatsa_projector}(
  object,
  type = "cov_coeffs",
  tangent_metric = c("logeuclidean", "airm"),
  subject_data_list = NULL,
  k_conn_params = NULL,
  spd_regularize_epsilon = 1e-06,
  mean_options = list(),
  verbose = FALSE,
  ...
)
}
\arguments{
\item{object}{A `hatsa_projector` or `task_hatsa_projector` object.}

\item{...}{Additional arguments passed to `get_spd_representations` or `frechet_mean_spd`.}

\item{type}{Character string indicating the type of SPD representation to use
(e.g., `"cov_coeffs"`). Passed to `get_spd_representations`.}

\item{tangent_metric}{Character string, `"logeuclidean"` (default) or `"airm"`,
specifying which metric's log map to use for projection. This also influences
the metric for Fréchet mean computation if not overridden by `mean_options`.}

\item{subject_data_list}{Optional. Passed to `get_spd_representations`.}

\item{k_conn_params}{Optional. Passed to `get_spd_representations`.}

\item{spd_regularize_epsilon}{Epsilon for regularizing SPD matrices.}

\item{mean_options}{A list of options for `frechet_mean_spd` (e.g., `max_iter`, `tol`).
The `metric` argument within this list will override `tangent_metric` for the mean
computation step if provided.}

\item{verbose}{Logical, controls verbosity.}
}
\value{
A list containing:
  - `tangent_vectors`: A list of symmetric matrices (tangent vectors), one per valid subject.
                     Names correspond to subject original indices.
  - `mean_spd_matrix`: The Fréchet mean SPD matrix used as the tangent point.
  - `metric_used`: The metric used for the log map (`"logeuclidean"` or `"airm"`).
  - `num_valid_subjects`: Number of subjects for whom tangent vectors were computed.
  - `original_num_subjects`: Total number of subjects in the input object.
}
\description{
Computes the Fréchet mean of specified SPD representations for a group of
subjects and then projects each subject's SPD matrix to the tangent space
anchored at this mean. This allows for applying standard Euclidean
multivariate analyses to these Riemannian data.
}
