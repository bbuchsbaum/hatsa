% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/task_hatsa_main.R
\name{task_hatsa}
\alias{task_hatsa}
\alias{run_task_hatsa}
\title{Hyperalignment via Task-Informed Shared Analysis}
\usage{
task_hatsa(
  subject_data_list,
  anchor_indices,
  spectral_rank_k = 40,
  task_data_list = NULL,
  task_method = c("lambda_blend", "gev_patch", "core_hatsa"),
  graph_mode = c("schur_complement", "anchor_block", "full_graph"),
  opts = task_hatsa_opts(),
  verbose = TRUE,
  ...
)

run_task_hatsa(
  subject_data_list,
  anchor_indices,
  spectral_rank_k,
  task_data_list = NULL,
  task_method = c("lambda_blend", "gev_patch", "core_hatsa"),
  lambda_blend_value = 0.15,
  k_gev_dims = 10,
  row_augmentation = TRUE,
  residualize_condition_anchors = FALSE,
  omega_weights = NULL,
  omega_mode = c("fixed", "adaptive"),
  reliability_scores_list = NULL,
  scale_omega_trace = TRUE,
  alpha_laplacian = 0.93,
  degree_type_laplacian = c("abs", "positive", "signed"),
  k_conn_pos = 10,
  k_conn_neg = 10,
  k_conn_task_pos = 10,
  k_conn_task_neg = 10,
  similarity_method_task = "pearson",
  W_task_helper_func = NULL,
  n_refine = 5,
  check_redundancy = TRUE,
  redundancy_threshold = 0.45,
  residualize_k_conn_proj = 64,
  residualize_k_conn_labels = 10,
  gev_lambda_max = 0.8,
  gev_epsilon_reg = 1e-06,
  parcel_names = NULL,
  verbose = TRUE
)
}
\arguments{
\item{subject_data_list}{List where each element is a numeric matrix (`T_i x V_p`)
of time-series data for one subject.}

\item{anchor_indices}{Integer vector, indices of the canonical anchor parcels (`1` to `V_p`).}

\item{spectral_rank_k}{Integer, the desired dimensionality of the primary spectral sketch.
Default is 40.}

\item{task_data_list}{List (parallel to `subject_data_list`). Each element provides
task-related data for a subject. Structure depends on `task_method` and subsequent
processing. Default is NULL.}

\item{task_method}{Character string: `"lambda_blend"`, `"gev_patch"`, or `"core_hatsa"`. 
Default: `"lambda_blend"`.}

\item{graph_mode}{Character string: `"schur_complement"`, `"anchor_block"`, or `"full_graph"`.
Determines which graph construction approach to use. Default: `"schur_complement"`.}

\item{opts}{List of advanced options created by `task_hatsa_opts()`.}

\item{verbose}{Logical. Print progress messages? Default `TRUE`.}

\item{...}{Additional arguments passed to `task_hatsa_opts()` if not provided directly via `opts`.}
}
\value{
A list representing the `task_hatsa_projector` object containing aligned bases, 
        rotations, parameters, QC metrics, etc.
}
\description{
A user-friendly interface to run Task-Informed HATSA (task_hatsa), which incorporates 
task information during basis shaping and/or alignment refinement.
}
